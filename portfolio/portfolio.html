<html>
    <head>
    </head>

    <body>
        
        <div>
            <h1 style="text-align: center;"> PortFoglio </h1>

            <div class="divPortFoglio">
                <h2> Titolo </h2>
                <p id="outTitolo"> </p>
            </div>

            <div class="divPortFoglio">
                <h2> Abstract </h2>
                <p id="outAbstract"> </p>
            </div>
            
            <div class="divPortFoglio"> 
                <h2> Risorsa </h2>
                <p id="outRisorsa"> </p>
            </div>
            
        </div>
        
    </body>

    <script>
        let indice = localStorage.getItem("id");
        
        console.log(indice);
        
        var xhttp = new XMLHttpRequest();
        const nome = indice + ".xml";

        xhttp.open("GET", nome, true);
        xhttp.send();
        
        xhttp.onreadystatechange = function() {
            if (this.readyState == 4 && this.status == 200) {
                gestisciXML(this);
            }
        };

        function gestisciXML(xml) {

            var xmlDoc = xml.responseXML;
        
            console.log(xml.responseXML); 
            
            var portfolio = xmlDoc.getElementsByTagName("portfolio")[0];

            const titolo = portfolio.getElementsByTagName("titolo")[0].childNodes[0].nodeValue;
            const abstract = portfolio.getElementsByTagName("abstract")[0].childNodes[0].nodeValue;
            const risorsa = portfolio.getElementsByTagName("link")[0].childNodes[0].nodeValue;

            document.getElementById("outTitolo").innerHTML = titolo;
            document.getElementById("outAbstract").innerHTML = abstract;
            document.getElementById("outRisorsa").innerHTML = risorsa;
        }        
    </script>

</html>


<html>
    <head>
        <link rel="stylesheet" href="Style03.css">
    </head>

    <body>
            
        
        <div>

            <h1 style="text-align: center;"> PortFoglio </h1>

            <div class="divPortFoglio">
                
                <h2> Titolo </h2>

                <p id="outTitolo"> </p>

            </div>

            <div class="divPortFoglio">

                <h2> Abstract </h2>

                <p id="outAbstract"> </p>

            </div>
            
            <div class="divPortFoglio"> 
                
                <h2> Risorsa </h2>

                <p id="outRisorsa"> </p>

            </div>
            
        </div>
        
    </body>

    <script>
        caricaFile(localStorage.getItem("indice"));
        
        function caricaFile(indice) {
        
            var xhttp = new XMLHttpRequest();
        
            xhttp.onreadystatechange = function() {
        
            if (this.readyState == 4 && this.status == 200) {
        
                gestisciXML(this);
              
            }
        };
        
        const nome = "https://raw.githubusercontent.com/alelallox/JavaScript-Works/refs/heads/main/portfolio/" + indice + ".xml"
    
        xhttp.open("GET", nome, true);
    
        xhttp.send();
        }
        
        function gestisciXML(xml) {
        
            var xmlDoc = xml.responseXML;
        
            console.log(xml.responseXML)
        
            var utente = xmlDoc.getElementsByTagName("Utente");
        
            const titolo = utente[0].getElementsByTagName("Titolo")[0].childNodes[0].nodeValue;
        
            const abstract = utente[0].getElementsByTagName("Abstract")[0].childNodes[0].nodeValue;
        
            const risorsa = utente[0].getElementsByTagName("Link")[0].childNodes[0].nodeValue;
        
            document.getElementById("outTitolo").innerHTML = titolo;
        
            document.getElementById("outAbstract").innerHTML = abstract;
        
            document.getElementById("outRisorsa").innerHTML = risorsa;
        
          }        
    </script>

</html>
